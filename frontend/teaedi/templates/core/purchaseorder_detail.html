{% extends 'core/layout.html' %}
{% load staticfiles %}

{% block head_css %}
  <link href="{% static "vendors/datatables.net-bs/css/dataTables.bootstrap.min.css" %}" rel="stylesheet">
{% endblock %}
{% block body_content %}
<!-- page content -->
<div class="right_col" role="main">

    <div class="clearfix"></div>
    <div class="row">
      <div class="col-md-12">
        <div class="x_panel">
          <div class="x_title">
            <h2>Purchase Order {{object.pk}}</h2>
            <div class="clearfix"></div>
          </div>
          <div class="x_content">

            <section class="content invoice">
              <!-- title row -->
              <!--<div class="row">-->
                <!--<div class="col-xs-12 invoice-header">-->
                  <!--<h1>-->
                                  <!--<i class="fa fa-globe"></i> Invoice.-->
                                  <!--<small class="pull-right">Date: 16/08/2016</small>-->
                              <!--</h1>-->
                <!--</div>-->
                <!--&lt;!&ndash; /.col &ndash;&gt;-->
              <!--</div>-->
              <!-- info row -->
              <div class="row invoice-info">
                <div class="col-sm-3 invoice-col">
                  <address>
                      <strong>{{object.isd_name}}</strong>
                      <br>{{ object.address_line1 }}
                      {% if object.address_line2 %}<br>{{ object.address_line2 }} {% endif %}
                      <br>{{ object.city}}, {{ object.state }} {{ object.zip }}
                      <br>Phone: 1 (804) 123-9876
                      <br>Email: ironadmin.com
                  </address>
                </div>
                <!-- /.col -->
                <div class="col-sm-3 invoice-col">
                  <b>ISD #:</b> {{ object.isd_code }}
                </div>
                <!-- /.col -->
                <div class="col-sm-3 invoice-col">
                  <b>Sales ID:</b> 4F3S8J
                  <br>
                  <b>Salesperson:</b> 4F3S8J
                  <br>
                  <b>Ship Date:</b> {{object.ship_date|date:"m/d/Y"}}
                  <br>
                  <b>Contract #:</b> {{object.contract}}
                </div>
                <!-- /.col -->
                <!-- /.col -->
                <div class="col-sm-3 invoice-col">
                  <b>Contact:</b> {{object.contact_name}}
                  <br>
                  <b>Phone:</b> {{object.contact_phone}}
                  <br>
                  <b>Customer PO:</b> {{object.customer_po}}
                </div>
                <!-- /.col -->
              </div>
              <!-- /.row -->

              <!-- Table row -->
              <div class="row">
                <div class="col-xs-12 table">
                  <table class="table table-striped">
                    <thead>
                      <tr>
                        <th>Order #</th>
                        <th>Sequence</th>
                        <th>ISBN #</th>
                        <th style="width: 30%">ISBN Title</th>
                        <th>Line Qty</th>
                        <th>Ext. Cost</th>
                        <th>Unit Price</th>
                        <th>Subtotal</th>
                      </tr>
                    </thead>
                    <tbody>
                    {% for line in object.lines.all %}
                      <tr>
                          <td>{{ object.pk }}</td>
                          <td>{{ line.sequence }}</td>
                          <td>{{ line.isbn }}</td>
                          <td>Some Description Here</td>
                          <td>{{ line.quantity }}</td>
                          <td>{{ line.school_district_owes }}</td>
                          <td>{{ line.unit_price }}</td>
                          <td>{{ line.total_price }}</td>
                      </tr>
                    {% endfor %}
                    </tbody>
                  </table>
                </div>
              </div>
              <!-- /.row -->
              <!-- this row will not appear when printing -->
              <div class="row no-print">
                <div class="col-xs-12">
                  <button class="btn btn-primary pull-right" onclick="window.print();"><i class="fa fa-print"></i> Print</button>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>

</div>
<!-- /page content -->
{% endblock %}

{% block body_js %}
  <script src="{% static "vendors/datatables.net/js/jquery.dataTables.min.js" %}"></script>
  <script src="{% static "vendors/datatables.net-bs/js/dataTables.bootstrap.min.js" %}"></script>
  <script>
    $(document).ready(function() {
      $('#datatable').dataTable({
        "order": [[ 1, "desc" ]],
        "columnDefs": [
          { "type": "date", targets: [1, 3] },
          { "searchable": false, "targets": [1, 3, 6] },
          { "sortable": false, "targets": [0, 2, 4, 5, 6] }
        ]
      });
    });
  </script>
{% endblock %}